(this["webpackJsonpgh-page"]=this["webpackJsonpgh-page"]||[]).push([[0],{13:function(t){t.exports=JSON.parse('{"works":{"projects":[{"name":"Place/Holder 1","icon":"https://picsum.photos/256","path":"/pladeholder-project","cover":"https://picsum.photos/256?blur","published":"2020-11-21","story":[{"format":"image","src":"https://picsum.photos/480/853"},{"format":"image","src":"https://picsum.photos/480/853?a"},{"format":"image","src":"https://picsum.photos/480/853?b"},{"format":"image","src":"https://picsum.photos/480/853?c"}]},{"name":"Place/Holder 2 Fast Saga","icon":"https://picsum.photos/259","path":"/projet-deux","cover":"https://picsum.photos/257?blur","published":"2021-02-05","story":[{"format":"image","src":"https://picsum.photos/300/250"},{"format":"image","src":"https://picsum.photos/300/600?a"},{"format":"image","src":"https://picsum.photos/385/550?b"}]},{"name":"Place/Holder 3","icon":"https://picsum.photos/256?2","path":"/project-3","cover":"https://picsum.photos/256?blur","published":"2020-11-21","story":[{"format":"image","src":"https://picsum.photos/300/600"}]},{"name":"Place/Holder 4","icon":"https://picsum.photos/256?3","path":"/puroject-yon","cover":"https://picsum.photos/256?blur","published":"2021-06-21","story":[{"format":"image","src":"https://picsum.photos/970/250"}]},{"name":"Place/Holder 5","icon":"https://picsum.photos/256?4","path":"/projet-cinq","cover":"https://picsum.photos/256?blur","published":"2021-09-11","story":[{"format":"image","src":"https://picsum.photos/1280/100"}]}]}}')},28:function(t,e,s){},29:function(t,e,s){},30:function(t,e,s){},37:function(t,e,s){},38:function(t,e,s){},39:function(t,e,s){},40:function(t,e,s){"use strict";s.r(e);var a=s(1),c=s.n(a),r=s(20),n=s.n(r),i=(s(28),s(29),s(8)),o=s(9),h=s(11),l=s(10),p=s(13),j=(s(30),s(7)),u=s(0),d=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var t=p.works.projects.map((function(t){return Object(u.jsx)("li",{className:"project","data-v-4cb38570":"",children:t.path&&Object(u.jsxs)(j.b,{to:"/stories"+t.path,"data-v-4cb38570":"",children:[Object(u.jsx)("img",{src:t.icon,className:"icon",alt:t.id,"data-v-4cb38570":""},t.id),Object(u.jsx)("p",{className:"project-name","data-v-4cb38570":"",children:t.name})]})},t.path)}));return Object(u.jsx)("section",{className:"HomeStories","data-v-4cb38570":"",children:Object(u.jsx)("ul",{className:"icons-featured","data-v-4cb38570":"",children:t})})}}]),s}(c.a.Component),m=d,b=(s(37),function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(u.jsx)("section",{className:"home","data-v-928bca9e":"",children:Object(u.jsx)(m,{"data-v-928bca9e":""})})}}]),s}(c.a.Component)),v=s(12),f=(s(38),s(39),s(45)),O=s(23),g=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).state={currentPage:0},a.showNextPage=a.showNextPage.bind(Object(v.a)(a)),a.setProgressBar=a.setProgressBar.bind(Object(v.a)(a)),a.progressBarRef=c.a.createRef(),a.pagesRef=c.a.createRef(),f.a.addLocale(O),a}return Object(o.a)(s,[{key:"showNextPage",value:function(){clearTimeout(this.pageTimeout),this.props.isActive?this.props.project.story.length-1<=this.state.currentPage?this.setProgressBar(-1):(this.setState({currentPage:this.state.currentPage+1}),this.setProgressBar(this.state.currentPage,3e3)):this.setProgressBar(0)}},{key:"setProgressBar",value:function(t,e){var s,a=this.progressBarRef.current,c=a&&a.children?a.children.length:0,r=this.pagesRef.current,n=r?r.children[this.state.currentPage]:null,i=n?n.querySelector(".content"):null;for(s=c-1;s>=0;s-=1){var o=a.children[s],h=o?o.querySelector("div"):null;h&&(h.classList=[]),s<this.state.currentPage?h.classList.add("done"):s>this.state.currentPage?h.classList.add("pre"):"IMG"===i.nodeName&&(h.classList.add("current"),h.style.animationDuration="".concat(e,"ms"),h.addEventListener("animationend",this.showNextPage))}}},{key:"render",value:function(){var t=this,e=this.props.project;e.story;this.props.isActive?this.setProgressBar(1,3500):0!==this.state.currentPage&&this.setState({currentPage:0});var s=new f.a("en-US"),a=e.published?s.format(new Date(e.published),"mini"):"",c=this.props.project.story.map((function(e,s){return Object(u.jsx)("li",{className:"page"+(s===t.state.currentPage?" current":""),"data-v-a326e9cf":"",children:"image"===e.format&&Object(u.jsx)("img",{src:e.src,alt:e.src,format:e.format,className:"scale-to-fit content","data-v-a326e9cf":""})},s)}));this.pagelist=c;var r=this.props.project.story.map((function(t,e){return Object(u.jsx)("li",{className:"progress ","data-v-a326e9cf":"",children:Object(u.jsx)("div",{"data-v-a326e9cf":""})},e)}));return this.progresslist=r,Object(u.jsxs)("div",{className:"StoryViewport","data-v-a326e9cf":"",children:[Object(u.jsx)("ul",{className:"page-progress",ref:this.progressBarRef,"data-v-a326e9cf":"",children:r}),Object(u.jsx)("img",{src:e.cover||"",alt:e.name,className:"story-bg","data-v-a326e9cf":""}),Object(u.jsx)("img",{src:e.icon||"",alt:this.props.project.name,className:"icon","data-v-a326e9cf":""}),Object(u.jsxs)("div",{className:"project-header","data-v-a326e9cf":"",children:[Object(u.jsx)("span",{className:"project-name","data-v-a326e9cf":"",children:e.name}),Object(u.jsx)("span",{className:"project-age","data-v-a326e9cf":"",children:a})]}),Object(u.jsx)("ul",{className:"pages",ref:this.pagesRef,"data-v-a326e9cf":"",children:c})]})}}]),s}(c.a.Component),x=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).state={J:null,current:-1,storyLen:p.works.projects.length},a.onNextButtonClick=a.onNextButtonClick.bind(Object(v.a)(a)),a.onPrevButtonClick=a.onPrevButtonClick.bind(Object(v.a)(a)),a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.path=this.props.path,this.findSelectedProjectIndex()}},{key:"findSelectedProjectIndex",value:function(){if(p.works.projects)for(var t=p.works.projects.length-1;t>=0;t-=1)p.works.projects[t].path==="/"+this.path&&this.setState({current:t})}},{key:"closeStories",value:function(){window.location.pathname="/"}},{key:"render",value:function(){return Object(u.jsxs)("section",{className:"Stories desktop","data-v-2a16c8c9":"",children:[Object(u.jsx)("div",{className:"backdrop","data-v-2a16c8c9":""}),Object(u.jsx)(j.b,{to:"/",className:"close-stories","data-v-2a16c8c9":"",children:Object(u.jsx)("span",{className:"material-icons","data-v-2a16c8c9":"",children:"close"})}),Object(u.jsx)("ul",{className:"story-viewports","data-v-2a16c8c9":"",children:this.generateStoryList()}),Object(u.jsx)("button",{className:"btn-prev",onClick:this.onPrevButtonClick,"data-v-2a16c8c9":"",children:Object(u.jsx)("span",{className:"material-icons","data-v-2a16c8c9":"",children:"navigate_before"})}),Object(u.jsx)("button",{className:"btn-next",onClick:this.onNextButtonClick,"data-v-2a16c8c9":"",children:Object(u.jsx)("span",{className:"material-icons","data-v-2a16c8c9":"",children:"navigate_next"})}),Object(u.jsxs)("p",{"data-v-2a16c8c9":"",children:["Path: ",this.path]})]})}},{key:"generateStoryList",value:function(){for(var t=[],e=this.state.storyLen-1;e>=0;e-=1){var s=e,a=Object(u.jsx)("li",{className:"story-wrapper "+(this.state.current===s?"current ":"")+(this.state.current-1===s?"l1 ":"")+(this.state.current-2===s?"l2 ":"")+(this.state.current-3===s?"l3 ":"")+(this.state.current+1===s?"r1 ":"")+(this.state.current+2===s?"r2 ":"")+(this.state.current+3===s?"r3 ":""),index:s,"data-v-2a16c8c9":"",children:Object(u.jsx)(g,{project:p.works.projects[e],isActive:this.state.current===s,"data-v-2a16c8c9":""})},s);t.push(a)}return t}},{key:"onNextButtonClick",value:function(t){this.state.current>=this.state.storyLen-1||this.setState({current:this.state.current+1})}},{key:"onPrevButtonClick",value:function(t){this.state.current<=0||this.setState({current:this.state.current-1})}}]),s}(c.a.Component),N=s(2);function y(){return Object(u.jsx)(j.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/",className:"home",children:Object(u.jsx)("span",{className:"material-icons",children:"home"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/",className:"contact",children:Object(u.jsx)("span",{className:"material-icons",children:"chat"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/",className:"me",children:Object(u.jsx)("span",{className:"material-icons",children:"face"})})})]})}),Object(u.jsx)(b,{}),Object(u.jsxs)(N.c,{children:[Object(u.jsx)(N.a,{path:"/stories/:id",children:Object(u.jsx)(P,{})}),Object(u.jsx)(N.a,{path:"/"}),Object(u.jsx)(N.a,{path:"*",children:Object(u.jsx)(k,{})})]})]})})}function P(){var t=Object(N.g)().id;return console.log(t),Object(u.jsx)("div",{children:Object(u.jsx)(x,{path:t})})}function k(){var t=Object(N.f)();return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{children:["No match for ",Object(u.jsx)("code",{children:t.pathname})]})})}var w=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,46)).then((function(e){var s=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,n=e.getTTFB;s(t),a(t),c(t),r(t),n(t)}))};n.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.a29cf96a.chunk.js.map